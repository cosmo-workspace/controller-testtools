['sdiff <(helm template chartsnap ../../example/app1 -f ../../example/app1/test_latest/test_hpa_enabled.yaml -n default) ../../example/app1/test_latest/__snapshots__/test_hpa_enabled.snap.yaml']
SnapShot = """
                                                              > # chartsnap: snapshot_version=v3
---                                                             ---
# Source: app1/templates/serviceaccount.yaml                    # Source: app1/templates/serviceaccount.yaml
apiVersion: v1                                                  apiVersion: v1
kind: ServiceAccount                                            kind: ServiceAccount
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
automountServiceAccountToken: true                              automountServiceAccountToken: true
---                                                             ---
# Source: app1/templates/cert.yaml                              # Source: app1/templates/cert.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Secret                                                    kind: Secret
metadata:                                                       metadata:
  name: app1-cert                                                 name: app1-cert
  namespace: default                                              namespace: default
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
type: kubernetes.io/tls                                         type: kubernetes.io/tls
data:                                                           data:
  ca.crt: '###DYNAMIC_FIELD###'                               |   ca.crt: IyMjRFlOQU1JQ19GSUVMRCMjIw==
  tls.crt: '###DYNAMIC_FIELD###'                              |   tls.crt: IyMjRFlOQU1JQ19GSUVMRCMjIw==
  tls.key: '###DYNAMIC_FIELD###'                              |   tls.key: IyMjRFlOQU1JQ19GSUVMRCMjIw==
---                                                             ---
# Source: app1/templates/service.yaml                           # Source: app1/templates/service.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Service                                                   kind: Service
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
spec:                                                           spec:
  type: ClusterIP                                                 type: ClusterIP
  ports:                                                          ports:
    - port: 80                                                |   - port: 80
      targetPort: http                                        |     targetPort: http
      protocol: TCP                                           |     protocol: TCP
      name: http                                              |     name: http
  selector:                                                       selector:
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
---                                                             ---
# Source: app1/templates/deployment.yaml                        # Source: app1/templates/deployment.yaml
apiVersion: apps/v1                                             apiVersion: apps/v1
kind: Deployment                                                kind: Deployment
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
spec:                                                           spec:
  selector:                                                       selector:
    matchLabels:                                                    matchLabels:
      app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
      app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
  template:                                                       template:
    metadata:                                                       metadata:
      labels:                                                         labels:
        helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
        app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
        app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
        app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
        app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
    spec:                                                           spec:
      serviceAccountName: chartsnap-app1                              serviceAccountName: chartsnap-app1
      securityContext:                                        |       securityContext: {}
        {}                                                    <
      containers:                                                     containers:
        - name: app1                                          |       - name: app1
          securityContext:                                    |         securityContext: {}
            {}                                                |         image: \"nginx:1.16.0\"
          image: \"nginx:1.16.0\"                               |         imagePullPolicy: IfNotPresent
          imagePullPolicy: IfNotPresent                       |         ports:
          ports:                                              |         - name: http
            - name: http                                      |           containerPort: 80
              containerPort: 80                               |           protocol: TCP
              protocol: TCP                                   |         livenessProbe:
          livenessProbe:                                      |           httpGet:
            httpGet:                                          |             path: /
              path: /                                         |             port: http
              port: http                                      |         readinessProbe:
          readinessProbe:                                     |           httpGet:
            httpGet:                                          |             path: /
              path: /                                         |             port: http
              port: http                                      |         resources: {}
          resources:                                          <
            {}                                                <
---                                                             ---
# Source: app1/templates/hpa.yaml                               # Source: app1/templates/hpa.yaml
apiVersion: autoscaling/v2                                      apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler                                   kind: HorizontalPodAutoscaler
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
spec:                                                           spec:
  scaleTargetRef:                                                 scaleTargetRef:
    apiVersion: apps/v1                                             apiVersion: apps/v1
    kind: Deployment                                                kind: Deployment
    name: chartsnap-app1                                            name: chartsnap-app1
  minReplicas: 1                                                  minReplicas: 1
  maxReplicas: 10                                                 maxReplicas: 10
  metrics:                                                        metrics:
    - type: Resource                                          |   - type: Resource
      resource:                                               |     resource:
        name: cpu                                             |       name: cpu
        target:                                               |       target:
          type: Utilization                                   |         type: Utilization
          averageUtilization: 65                              |         averageUtilization: 65
---                                                             ---
# Source: app1/templates/tests/test-connection.yaml             # Source: app1/templates/tests/test-connection.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Pod                                                       kind: Pod
metadata:                                                       metadata:
  name: \"chartsnap-app1-test-connection\"                          name: \"chartsnap-app1-test-connection\"
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
  annotations:                                                    annotations:
    \"helm.sh/hook\": test                                            \"helm.sh/hook\": test
spec:                                                           spec:
  containers:                                                     containers:
    - name: wget                                              |   - name: wget
      image: busybox                                          |     image: busybox
      command: ['wget']                                       |     command: ['wget']
      args: ['chartsnap-app1:80']                             |     args: ['chartsnap-app1:80']
  restartPolicy: Never                                            restartPolicy: Never
"""

['sdiff <(helm template chartsnap ../../example/app1 -f ../../example/app1/test_latest/test_ingress_enabled.yaml -n default) ../../example/app1/test_latest/__snapshots__/test_ingress_enabled.snap.yaml']
SnapShot = """
                                                              > # chartsnap: snapshot_version=v3
---                                                             ---
# Source: app1/templates/serviceaccount.yaml                    # Source: app1/templates/serviceaccount.yaml
apiVersion: v1                                                  apiVersion: v1
kind: ServiceAccount                                            kind: ServiceAccount
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
automountServiceAccountToken: true                              automountServiceAccountToken: true
---                                                             ---
# Source: app1/templates/cert.yaml                              # Source: app1/templates/cert.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Secret                                                    kind: Secret
metadata:                                                       metadata:
  name: app1-cert                                                 name: app1-cert
  namespace: default                                              namespace: default
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
type: kubernetes.io/tls                                         type: kubernetes.io/tls
data:                                                           data:
  ca.crt: '###DYNAMIC_FIELD###'                               |   ca.crt: IyMjRFlOQU1JQ19GSUVMRCMjIw==
  tls.crt: '###DYNAMIC_FIELD###'                              |   tls.crt: IyMjRFlOQU1JQ19GSUVMRCMjIw==
  tls.key: '###DYNAMIC_FIELD###'                              |   tls.key: IyMjRFlOQU1JQ19GSUVMRCMjIw==
---                                                             ---
# Source: app1/templates/service.yaml                           # Source: app1/templates/service.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Service                                                   kind: Service
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
spec:                                                           spec:
  type: ClusterIP                                                 type: ClusterIP
  ports:                                                          ports:
    - port: 80                                                |   - port: 80
      targetPort: http                                        |     targetPort: http
      protocol: TCP                                           |     protocol: TCP
      name: http                                              |     name: http
  selector:                                                       selector:
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
---                                                             ---
# Source: app1/templates/deployment.yaml                        # Source: app1/templates/deployment.yaml
apiVersion: apps/v1                                             apiVersion: apps/v1
kind: Deployment                                                kind: Deployment
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
spec:                                                           spec:
  replicas: 1                                                     replicas: 1
  selector:                                                       selector:
    matchLabels:                                                    matchLabels:
      app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
      app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
  template:                                                       template:
    metadata:                                                       metadata:
      labels:                                                         labels:
        helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
        app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
        app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
        app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
        app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
    spec:                                                           spec:
      serviceAccountName: chartsnap-app1                              serviceAccountName: chartsnap-app1
      securityContext:                                        |       securityContext: {}
        {}                                                    <
      containers:                                                     containers:
        - name: app1                                          |       - name: app1
          securityContext:                                    |         securityContext: {}
            {}                                                |         image: \"nginx:1.16.0\"
          image: \"nginx:1.16.0\"                               |         imagePullPolicy: IfNotPresent
          imagePullPolicy: IfNotPresent                       |         ports:
          ports:                                              |         - name: http
            - name: http                                      |           containerPort: 80
              containerPort: 80                               |           protocol: TCP
              protocol: TCP                                   |         livenessProbe:
          livenessProbe:                                      |           httpGet:
            httpGet:                                          |             path: /
              path: /                                         |             port: http
              port: http                                      |         readinessProbe:
          readinessProbe:                                     |           httpGet:
            httpGet:                                          |             path: /
              path: /                                         |             port: http
              port: http                                      |         resources: {}
          resources:                                          <
            {}                                                <
---                                                             ---
# Source: app1/templates/ingress.yaml                           # Source: app1/templates/ingress.yaml
apiVersion: networking.k8s.io/v1                                apiVersion: networking.k8s.io/v1
kind: Ingress                                                   kind: Ingress
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
  annotations:                                                    annotations:
    cert-manager.io/cluster-issuer: nameOfClusterIssuer             cert-manager.io/cluster-issuer: nameOfClusterIssuer
spec:                                                           spec:
  ingressClassName: nginx                                         ingressClassName: nginx
  tls:                                                            tls:
    - hosts:                                                  |   - hosts:
        - \"chart-example.local\"                               |     - \"chart-example.local\"
      secretName: chart-example-tls                           |     secretName: chart-example-tls
  rules:                                                          rules:
    - host: \"chart-example.local\"                             |   - host: \"chart-example.local\"
      http:                                                   |     http:
        paths:                                                |       paths:
          - path: /                                           |       - path: /
            pathType: ImplementationSpecific                  |         pathType: ImplementationSpecific
            backend:                                          |         backend:
              service:                                        |           service:
                name: chartsnap-app1                          |             name: chartsnap-app1
                port:                                         |             port:
                  number: 80                                  |               number: 80
---                                                             ---
# Source: app1/templates/tests/test-connection.yaml             # Source: app1/templates/tests/test-connection.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Pod                                                       kind: Pod
metadata:                                                       metadata:
  name: \"chartsnap-app1-test-connection\"                          name: \"chartsnap-app1-test-connection\"
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
  annotations:                                                    annotations:
    \"helm.sh/hook\": test                                            \"helm.sh/hook\": test
spec:                                                           spec:
  containers:                                                     containers:
    - name: wget                                              |   - name: wget
      image: busybox                                          |     image: busybox
      command: ['wget']                                       |     command: ['wget']
      args: ['chartsnap-app1:80']                             |     args: ['chartsnap-app1:80']
  restartPolicy: Never                                            restartPolicy: Never
"""

['sdiff <(helm template chartsnap ../../example/app1 -n default) ../../example/app1/__snapshots__/default.snap.yaml']
SnapShot = """
                                                              > # chartsnap: snapshot_version=v3
---                                                             ---
# Source: app1/templates/serviceaccount.yaml                    # Source: app1/templates/serviceaccount.yaml
apiVersion: v1                                                  apiVersion: v1
kind: ServiceAccount                                            kind: ServiceAccount
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
automountServiceAccountToken: true                              automountServiceAccountToken: true
---                                                             ---
# Source: app1/templates/cert.yaml                              # Source: app1/templates/cert.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Secret                                                    kind: Secret
metadata:                                                       metadata:
  name: app1-cert                                                 name: app1-cert
  namespace: default                                              namespace: default
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
type: kubernetes.io/tls                                         type: kubernetes.io/tls
data:                                                           data:
  ca.crt: '###DYNAMIC_FIELD###'                               |   ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZ
  tls.crt: '###DYNAMIC_FIELD###'                              |   tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURhVENDQW
  tls.key: '###DYNAMIC_FIELD###'                              |   tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcE
---                                                             ---
# Source: app1/templates/service.yaml                           # Source: app1/templates/service.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Service                                                   kind: Service
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
spec:                                                           spec:
  type: ClusterIP                                                 type: ClusterIP
  ports:                                                          ports:
    - port: 80                                                |   - port: 80
      targetPort: http                                        |     targetPort: http
      protocol: TCP                                           |     protocol: TCP
      name: http                                              |     name: http
  selector:                                                       selector:
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
---                                                             ---
# Source: app1/templates/deployment.yaml                        # Source: app1/templates/deployment.yaml
apiVersion: apps/v1                                             apiVersion: apps/v1
kind: Deployment                                                kind: Deployment
metadata:                                                       metadata:
  name: chartsnap-app1                                            name: chartsnap-app1
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
spec:                                                           spec:
  replicas: 1                                                     replicas: 1
  selector:                                                       selector:
    matchLabels:                                                    matchLabels:
      app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
      app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
  template:                                                       template:
    metadata:                                                       metadata:
      labels:                                                         labels:
        helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
        app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
        app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
        app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
        app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
    spec:                                                           spec:
      serviceAccountName: chartsnap-app1                              serviceAccountName: chartsnap-app1
      securityContext:                                        |       securityContext: {}
        {}                                                    <
      containers:                                                     containers:
        - name: app1                                          |       - name: app1
          securityContext:                                    |         securityContext: {}
            {}                                                |         image: \"nginx:1.16.0\"
          image: \"nginx:1.16.0\"                               |         imagePullPolicy: IfNotPresent
          imagePullPolicy: IfNotPresent                       |         ports:
          ports:                                              |         - name: http
            - name: http                                      |           containerPort: 80
              containerPort: 80                               |           protocol: TCP
              protocol: TCP                                   |         livenessProbe:
          livenessProbe:                                      |           httpGet:
            httpGet:                                          |             path: /
              path: /                                         |             port: http
              port: http                                      |         readinessProbe:
          readinessProbe:                                     |           httpGet:
            httpGet:                                          |             path: /
              path: /                                         |             port: http
              port: http                                      |         resources: {}
          resources:                                          <
            {}                                                <
---                                                             ---
# Source: app1/templates/tests/test-connection.yaml             # Source: app1/templates/tests/test-connection.yaml
apiVersion: v1                                                  apiVersion: v1
kind: Pod                                                       kind: Pod
metadata:                                                       metadata:
  name: \"chartsnap-app1-test-connection\"                          name: \"chartsnap-app1-test-connection\"
  labels:                                                         labels:
    helm.sh/chart: app1-0.1.0                                       helm.sh/chart: app1-0.1.0
    app.kubernetes.io/name: app1                                    app.kubernetes.io/name: app1
    app.kubernetes.io/instance: chartsnap                           app.kubernetes.io/instance: chartsnap
    app.kubernetes.io/version: \"1.16.0\"                             app.kubernetes.io/version: \"1.16.0\"
    app.kubernetes.io/managed-by: Helm                              app.kubernetes.io/managed-by: Helm
  annotations:                                                    annotations:
    \"helm.sh/hook\": test                                            \"helm.sh/hook\": test
spec:                                                           spec:
  containers:                                                     containers:
    - name: wget                                              |   - name: wget
      image: busybox                                          |     image: busybox
      command: ['wget']                                       |     command: ['wget']
      args: ['chartsnap-app1:80']                             |     args: ['chartsnap-app1:80']
  restartPolicy: Never                                            restartPolicy: Never
"""

['sdiff <(helm template chartsnap cilium -f ../../example/remote/cilium.values.yaml -n kube-system --repo https://helm.cilium.io) ../../example/remote/__snapshots__/cilium.values.snap']
SnapShot = """
sdiff: error opening ../../example/remote/__snapshots__/cilium.values.snap: No such file or directory
"""

['sdiff <(helm template chartsnap oci://ghcr.io/nginxinc/charts/nginx-gateway-fabric -f ../../example/remote/nginx-gateway-fabric.values.yaml -n nginx-gateway) ../../example/remote/__snapshots__/nginx-gateway-fabric.values.snap']
SnapShot = """
sdiff: error opening ../../example/remote/__snapshots__/nginx-gateway-fabric.values.snap: No such file or directory
"""
